{% extends 'base.html.twig' %}

{% block title %}Catégories/Programmes
{% endblock %}

{% block body %}
	<div class="contenair">
		<div class="row ">
			<h1 class="text-light">Tous les programmes de la catégorie :
				{{ category.name }}
			</h1>
			{% for program in programs %}
				<div class="col-12 col-lg-3 d-flex g-3">
					<div class="card my-3 h-100">
						<img src="{{ asset('build/images/' ~ category.name ~ '.jpg') }}" class="card-img-top" alt="Une image de la catégorie {{ category.name }}">
						<div class="card-body">

							<div class="h-100 d-flex flex-column justify-content-between">
								<div>
									<div class="d-flex justify-content-between">
										<p class="card-title text-secondary">Catégorie :
											{{ program.category.name }}</p>
										<a class="text-decoration-none text-dark" href="{{ path('program_add_watchlist', {id: program.id})}}">
											{% if app.user %}
												<i class="bi {{ app.user.isInWatchlist(program) ? 'bi-heart-fill' : 'bi-heart' }}"></i>
											{% endif %}
										</a>
									</div>
									<h2>{{ program.title }}</h2>
									<p>{{ program.synopsis }}</p>
								</div>
								<div class="d-flex justify-content-between">
									<a href="{{ path("program_show", { slug: program.slug }) }}" class="btn btn-outline-dark">Voir la fiche</a>
									<a href="{{ path('App_index') }}" class="btn btn-outline-secondary">Retour à l'accueil</a>
								</div>
							</div>
						</div>

					</div>
				</div>

			{% else %}
				Aucun programme trouvé.
			{% endfor %}

		</div>
	</div>
{% endblock %}
