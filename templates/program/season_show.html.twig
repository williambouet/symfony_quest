{% extends 'base.html.twig' %}

{% block title %}All programs
{% endblock %}

{% block body %}
 	<div class="container">
		<h1>Tous les épisodes</h1>
		<div class="row justify-content-center g-3">
			 {% for episode in episodes %}
				<div class="col-6">
					<div class="card my-3 h-100">
						<img src="{{ vich_uploader_asset(program) }}" class="card-img-top" alt="Une image du programme {{ episode.season.program.poster }}">
						<div class="card-body">
							<div class="h-100 d-flex flex-column justify-content-between">
                                        <p class="text-secondary text-center fs-3">{{ episode.season.program.title }}</p>
								<div class="d-flex justify-content-between">
                                        <p class="text-secondary m-0">Année :{{ episode.season.year }}</p>
									<p class="text-secondary m-0" >Saison :{{ episode.season.number }}</p>
								</div>
																	<div class="d-flex">
								<p class="text-secondary text-align-start mb-2">Acteurs :
									{% for actor in episode.season.program.actors %}
									<a href="{{ path("actor_id", { id: actor.id }) }}" class="text-secondary text-decoration-none">{{ actor.name }}, </a>
										{% else %}
											Aucun acteur pour cette série
											{% endfor %}
										</p>
									</div>

								<h2 class="card-title">{{ episode.title }}</h2>
								<div>
									<p>Synopsis de l'épisode :</p>
									<p class="lh-lg fw-light">{{ episode.synopsis }}</p> 
								</div>
								<div
									class="d-flex justify-content-between">
								 	<a href="{{ path("episode_show", { slug: episode.slug }) }}" class="btn btn-dark">Détail</a>
									<a href="{{ path("program_show", { slug: program.slug }) }}"  class="btn btn-outline-secondary">Retour</a> 
								</div>
							</div>
						</div>
					</div>
				</div>
			{% else %}
				Aucun épisode trouvé.
			{% endfor %}
		</div>
	</div>
 {% endblock %}
